windows(width = 15, height = 10)  # On Windows
plot(img)
ggsave(
filename = "../illustrations/plot_exclusions_S123.png",
plot = drop.plot,
device = "png",
width = 9, height = 5,
dpi = 300,
units = "in",
bg = "white"
)
# display plot
img <- image_read("../illustrations/plot_exclusions_S123.png")
windows(width = 15, height = 10)  # On Windows
plot(img)
ggsave(
filename = "../illustrations/plot_exclusions_S123.png",
plot = drop.plot,
device = "png",
width = 9, height = 6,
dpi = 300,
units = "in",
bg = "white"
)
# display plot
img <- image_read("../illustrations/plot_exclusions_S123.png")
windows(width = 15, height = 10)  # On Windows
plot(img)
# age.plot <- ggplot(age.plot.data, aes(x = agem, fill = Sex)) +
#   geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
#   coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.01)) +
#   theme_bw() +
#   scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
#   scale_y_continuous(name = "Count", breaks = NULL) +
#   facet_wrap(~ study, ncol = 1) +
#   labs(fill = NULL) +
#   guides(fill = guide_legend(ncol =2, byrow = TRUE)) +
#   theme_minimal() +
#   theme(
#     base_size = 13,
#     panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
#     panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
#     panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
#     strip.background = element_rect(colour = "grey30", size = 1),
#     strip.text = element_text(face = "bold", size = rel(.9),
#                               margin = margin(t = 5, b = 8)),
#     axis.title = element_text(face = "bold", size = rel(.9)),
#     axis.text = element_text(size = rel(0.8)),
#     legend.position = c(0.96, -0.08),
#     legend.justification = c(1, 1),
#     legend.text = element_text(size = rel(.9)),
#     panel.grid.minor = element_blank()
#   )
drop.plot <- ggplot(drop.plot.data, aes(x = agem, fill = drop)) +
geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
theme_bw() +
scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
scale_y_continuous(name = "Participants", breaks = NULL) +
coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.5)) +
facet_wrap(~ study, ncol = 1) +
labs(fill = NULL) +
guides(fill = guide_legend(nrow = 2, byrow = TRUE)) +
theme_minimal(base_size = 13) +
theme(
panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
strip.background = element_rect(colour = "grey30", size = 1),
strip.text = element_text(face = "bold", size = rel(.9),
margin = margin(t = 5, b = 8)),
axis.title = element_text(face = "bold", size = rel(.9)),
axis.text = element_text(size = rel(0.8)),
legend.position = "bottom",
legend.justification = c(1, 1),
legend.text = element_text(size = rel(.9)),
legend.margin = margin(t = 2),
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank()
)
ggsave(
filename = "../illustrations/plot_exclusions_S123.png",
plot = drop.plot,
device = "png",
width = 9, height = 6,
dpi = 300,
units = "in",
bg = "white"
)
# display plot
img <- image_read("../illustrations/plot_exclusions_S123.png")
windows(width = 15, height = 10)  # On Windows
plot(img)
# age.plot <- ggplot(age.plot.data, aes(x = agem, fill = Sex)) +
#   geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
#   coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.01)) +
#   theme_bw() +
#   scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
#   scale_y_continuous(name = "Count", breaks = NULL) +
#   facet_wrap(~ study, ncol = 1) +
#   labs(fill = NULL) +
#   guides(fill = guide_legend(ncol =2, byrow = TRUE)) +
#   theme_minimal() +
#   theme(
#     base_size = 13,
#     panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
#     panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
#     panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
#     strip.background = element_rect(colour = "grey30", size = 1),
#     strip.text = element_text(face = "bold", size = rel(.9),
#                               margin = margin(t = 5, b = 8)),
#     axis.title = element_text(face = "bold", size = rel(.9)),
#     axis.text = element_text(size = rel(0.8)),
#     legend.position = c(0.96, -0.08),
#     legend.justification = c(1, 1),
#     legend.text = element_text(size = rel(.9)),
#     panel.grid.minor = element_blank()
#   )
drop.plot <- ggplot(drop.plot.data, aes(x = agem, fill = drop)) +
geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
theme_bw() +
scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
scale_y_continuous(name = "Participants", breaks = NULL) +
coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.5)) +
facet_wrap(~ study, ncol = 1) +
labs(fill = NULL) +
guides(fill = guide_legend(ncol = 4, byrow = TRUE)) +
theme_minimal(base_size = 13) +
theme(
panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
strip.background = element_rect(colour = "grey30", size = 1),
strip.text = element_text(face = "bold", size = rel(.9),
margin = margin(t = 5, b = 8)),
axis.title = element_text(face = "bold", size = rel(.9)),
axis.text = element_text(size = rel(0.8)),
legend.position = "bottom",
legend.justification = c(1, 1),
legend.text = element_text(size = rel(.9)),
legend.margin = margin(t = 2),
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank()
)
ggsave(
filename = "../illustrations/plot_exclusions_S123.png",
plot = drop.plot,
device = "png",
width = 9, height = 6,
dpi = 300,
units = "in",
bg = "white"
)
# display plot
img <- image_read("../illustrations/plot_exclusions_S123.png")
windows(width = 15, height = 10)  # On Windows
plot(img)
# age.plot <- ggplot(age.plot.data, aes(x = agem, fill = Sex)) +
#   geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
#   coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.01)) +
#   theme_bw() +
#   scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
#   scale_y_continuous(name = "Count", breaks = NULL) +
#   facet_wrap(~ study, ncol = 1) +
#   labs(fill = NULL) +
#   guides(fill = guide_legend(ncol =2, byrow = TRUE)) +
#   theme_minimal() +
#   theme(
#     base_size = 13,
#     panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
#     panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
#     panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
#     strip.background = element_rect(colour = "grey30", size = 1),
#     strip.text = element_text(face = "bold", size = rel(.9),
#                               margin = margin(t = 5, b = 8)),
#     axis.title = element_text(face = "bold", size = rel(.9)),
#     axis.text = element_text(size = rel(0.8)),
#     legend.position = c(0.96, -0.08),
#     legend.justification = c(1, 1),
#     legend.text = element_text(size = rel(.9)),
#     panel.grid.minor = element_blank()
#   )
drop.plot <- ggplot(drop.plot.data, aes(x = agem, fill = drop)) +
geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
theme_bw() +
scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
scale_y_continuous(name = "Participants", breaks = NULL) +
coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.5)) +
facet_wrap(~ study, ncol = 1) +
labs(fill = NULL) +
guides(fill = guide_legend(ncol = 5, byrow = TRUE)) +
theme_minimal(base_size = 13) +
theme(
panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
strip.background = element_rect(colour = "grey30", size = 1),
strip.text = element_text(face = "bold", size = rel(.9),
margin = margin(t = 5, b = 8)),
axis.title = element_text(face = "bold", size = rel(.9)),
axis.text = element_text(size = rel(0.8)),
legend.position = "bottom",
legend.justification = c(1, 1),
legend.text = element_text(size = rel(.9)),
legend.margin = margin(t = 2),
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank()
)
ggsave(
filename = "../illustrations/plot_exclusions_S123.png",
plot = drop.plot,
device = "png",
width = 9, height = 6,
dpi = 300,
units = "in",
bg = "white"
)
# display plot
img <- image_read("../illustrations/plot_exclusions_S123.png")
windows(width = 15, height = 10)  # On Windows
plot(img)
# age.plot <- ggplot(age.plot.data, aes(x = agem, fill = Sex)) +
#   geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
#   coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.01)) +
#   theme_bw() +
#   scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
#   scale_y_continuous(name = "Count", breaks = NULL) +
#   facet_wrap(~ study, ncol = 1) +
#   labs(fill = NULL) +
#   guides(fill = guide_legend(ncol =2, byrow = TRUE)) +
#   theme_minimal() +
#   theme(
#     base_size = 13,
#     panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
#     panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
#     panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
#     strip.background = element_rect(colour = "grey30", size = 1),
#     strip.text = element_text(face = "bold", size = rel(.9),
#                               margin = margin(t = 5, b = 8)),
#     axis.title = element_text(face = "bold", size = rel(.9)),
#     axis.text = element_text(size = rel(0.8)),
#     legend.position = c(0.96, -0.08),
#     legend.justification = c(1, 1),
#     legend.text = element_text(size = rel(.9)),
#     panel.grid.minor = element_blank()
#   )
drop.plot <- ggplot(drop.plot.data, aes(x = agem, fill = drop)) +
geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
theme_bw() +
scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
scale_y_continuous(name = "Participants", breaks = NULL) +
coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.5)) +
facet_wrap(~ study, ncol = 1) +
labs(fill = NULL) +
guides(fill = guide_legend(ncol = 5, byrow = TRUE)) +
theme_minimal(base_size = 13) +
theme(
panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
strip.background = element_rect(colour = "grey30", size = 1),
strip.text = element_text(face = "bold", size = rel(.9),
margin = margin(t = 5, b = 8)),
axis.title = element_text(face = "bold", size = rel(.9)),
axis.text = element_text(size = rel(0.8)),
legend.position = "bottom",
legend.justification = c(1, 1),
legend.text = element_text(size = rel(.9)),
legend.margin = margin(t = 2),
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank()
)
ggsave(
filename = "../illustrations/plot_exclusions_S123.png",
plot = drop.plot,
device = "png",
width = 9.5, height = 6,
dpi = 300,
units = "in",
bg = "white"
)
# display plot
img <- image_read("../illustrations/plot_exclusions_S123.png")
windows(width = 15, height = 10)  # On Windows
plot(img)
drop.plot.data <- rep.data %>% #select data
distinct(subid, .keep_all = TRUE) %>% # select only one line per participant
filter(valid == "drop") %>%
mutate(study = case_when(
study == "study1" ~ "Study 1",
study == "study2" ~ "Study 2",
study == "study3" ~ "Study 3",
TRUE ~ NA_character_)) %>%
mutate(drop = case_when(
drop == "fail_in_fam" ~ "< 75% Correct in Familiarization",
drop == "fussy_child" ~ "Fussy Child",
drop == "language" ~ "Low Language Proficiency",
drop == "quit_early" ~ "Quit Early",
drop == "technical" ~ "Technical Problem",
TRUE ~ NA_character_)) %>%
mutate(drop = factor(drop, levels = c(
"< 75% Correct in Familiarization",
"Quit Early",
"Fussy Child",
"Low Language Proficiency",
"Technical Problem")))
drop.plot <- ggplot(drop.plot.data, aes(x = agem, fill = drop)) +
geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
theme_bw() +
scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
scale_y_continuous(name = "Participants", breaks = NULL) +
coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.5)) +
facet_wrap(~ study, ncol = 1) +
labs(fill = NULL) +
guides(fill = guide_legend(ncol = 5, byrow = TRUE)) +
theme_minimal(base_size = 13) +
theme(
panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
strip.background = element_rect(colour = "grey30", size = 1),
strip.text = element_text(face = "bold", size = rel(.9),
margin = margin(t = 5, b = 8)),
axis.title = element_text(face = "bold", size = rel(.9)),
axis.text = element_text(size = rel(0.8)),
legend.position = "bottom",
legend.justification = c(1, 1),
legend.text = element_text(size = rel(.9)),
legend.margin = margin(t = 2),
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank()
)
ggsave(
filename = "../illustrations/plot_supp_exclusions_S123.png",
plot = drop.plot,
device = "png",
width = 9.5, height = 6,
dpi = 300,
units = "in",
bg = "white"
)
#
# # display plot
# img <- image_read("../illustrations/plot_supp_exclusions_S123.png")
#
# windows(width = 15, height = 10)  # On Windows
# plot(img)
drop.plot.data <- rep.data %>% #select data
distinct(subid, .keep_all = TRUE) %>% # select only one line per participant
filter(valid == "drop") %>%
mutate(study = case_when(
study == "study1" ~ "Study 1",
study == "study2" ~ "Study 2",
study == "study3" ~ "Study 3",
TRUE ~ NA_character_)) %>%
mutate(drop = case_when(
drop == "fail_in_fam" ~ "< 75% Correct in Familiarization",
drop == "fussy_child" ~ "Fussy Child",
drop == "language" ~ "Low Language Proficiency",
drop == "quit_early" ~ "Quit Early",
drop == "technical" ~ "Technical Problem",
TRUE ~ NA_character_)) %>%
mutate(drop = factor(drop, levels = c(
"< 75% Correct in Familiarization",
"Quit Early",
"Fussy Child",
"Low Language Proficiency",
"Technical Problem")))
drop.plot <- ggplot(drop.plot.data, aes(x = agem, fill = drop)) +
geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
theme_bw() +
scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
scale_y_continuous(name = "Participants", breaks = NULL) +
coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.5)) +
facet_wrap(~ study, ncol = 1) +
labs(fill = NULL) +
guides(fill = guide_legend(ncol = 5, byrow = TRUE)) +
theme_minimal(base_size = 13) +
theme(
panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
strip.background = element_rect(colour = "grey30", size = 1),
strip.text = element_text(face = "bold", size = rel(.9),
margin = margin(t = 5, b = 8)),
axis.title = element_text(face = "bold", size = rel(.9)),
axis.text = element_text(size = rel(0.8)),
legend.position = "bottom",
legend.justification = c(1, 1),
legend.text = element_text(size = rel(.9)),
legend.margin = margin(t = 2),
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank()
)
ggsave(
filename = "../illustrations/plot_supp_exclusions_S123.png",
plot = drop.plot,
device = "png",
width = 9.5, height = 6,
dpi = 300,
units = "in",
bg = "white")
# # display plot
# img <- image_read("../illustrations/plot_supp_exclusions_S123.png")
#
# windows(width = 15, height = 10)  # On Windows
# plot(img)
knitr::include_graphics("../illustrations/plot_supp_exclusions_S123.png", dpi = 108)
ggsave(
filename = "../illustrations/plot_supp_participants_S123.png",
plot = age.plot,
device = "png",
width = 9.5, height = 6,
dpi = 300,
units = "in",
bg = "white"
)
# display plot
img <- image_read("../illustrations/plot_participants_S123.png")
windows(width = 15, height = 10)  # On Windows
plot(img)
age.plot.data <- rep.data %>% #select data
distinct(subid, .keep_all = TRUE) %>% # select only one line per participant
filter(valid != "drop")  %>%
mutate(sex = as.factor(sex))  %>%
mutate(sex = fct_recode(sex, "female" = "0","male"="1")) %>%
rename(Sex = sex) %>%
mutate(study = case_when(
study == "study1" ~ "Study 1",
study == "study2" ~ "Study 2",
study == "study3" ~ "Study 3",
TRUE ~ NA_character_))
age.plot <- ggplot(age.plot.data, aes(x = agem, fill = Sex)) +
geom_dotplot(stackgroups = TRUE, binwidth = 1, binpositions = "all") +
coord_fixed(ratio = 4, xlim = c(36, 84), ylim = c(0, 1.01)) +  # combine here
theme_bw() +
scale_x_continuous(name = "Age in Months", breaks = seq(36, 84, 12), minor_breaks = seq(36, 84, 1)) +
scale_y_continuous(name = "Participants", breaks = NULL) +
facet_wrap(~ study, ncol = 1) +
labs(fill = NULL) +
guides(fill = guide_legend(ncol =2, byrow = TRUE)) +
theme_minimal() +
theme(
base_size = 13,
panel.grid.minor.x = element_line(linewidth = 0.25, linetype = 2),
panel.grid.major.x = element_line(linewidth = 1, linetype = 1),
panel.border = element_rect(colour = "grey30", fill = NA, linewidth = 1),
strip.background = element_rect(colour = "grey30", size = 1),
strip.text = element_text(face = "bold", size = rel(.9),
margin = margin(t = 5, b = 8)),
axis.title = element_text(face = "bold", size = rel(.9)),
axis.text = element_text(size = rel(0.8)),
legend.position = c(1, -0.06),
legend.justification = c(1, 1),
legend.text = element_text(size = rel(.9)),
panel.grid.minor = element_blank()
)
ggsave(
filename = "../illustrations/plot_supp_participants_S123.png",
plot = age.plot,
device = "png",
width = 9.5, height = 6,
dpi = 300,
units = "in",
bg = "white"
)
#
# # display plot
# img <- image_read("../illustrations/plot_participants_S123.png")
#
# windows(width = 15, height = 10)  # On Windows
# plot(img)
# display plot
img <- image_read("../illustrations/plot_participants_S123.png")
windows(width = 15, height = 10)  # On Windows
plot(img)
knitr::include_graphics(knitr::plot_crop("../illustrations/plot_supp_exclusions_S123.png"))
library("papaja")
r_refs("library.bib")
# Loading packages
# NOTE: this will install these packages in case they are missing
# General
if (!require(tidyverse)) install.packages('tidyverse'); library(tidyverse)
if (!require(lsr)) install.packages('lsr'); library(lsr) # Analysis, Cohen's D
if (!require(ggthemes)) install.packages('ggthemes'); library(ggthemes) # for tufte boxplots
# if (!require(kableExtra)) install.packages('kableExtra'); library(kableExtra)
library(cowplot)
library(magick)
# Styling library(flextable)
if (!require(flextable)) install.packages('flextable'); library(flextable)
# bayes packages
if (!require(brms)) install.packages('brms'); library(brms) #
if (!require(tidybayes)) install.packages('tidybayes'); library(tidybayes) #
if (!require(HDInterval)) install.packages('HDInterval'); library(HDInterval) #
if (!require(posterior)) install.packages('posterior'); library(posterior) #
# basic analyses
if (!require(scales)) install.packages('scales'); library(scales) #
# plotting
## ggplot via tidyverse
if (!require(cowplot)) install.packages('cowplot'); library(cowplot) #
if (!require(png)) install.packages('png'); library(png) #
if (!require(grid)) install.packages('grid'); library(grid) #
# Troubleshooting Knitting Document
# might be required for knitting manuscript
# install.packages('tinytex')
# tinytex::install_tinytex()
#
# tinytex::tlmgr_update()
# tinytex::reinstall_tinytex()
# Seed for random number generation
set.seed(42)
knitr::opts_chunk$set(cache.extra = knitr::rand_seed)
knitr::include_graphics(knitr::plot_crop("../illustrations/plot_study1.png"))
